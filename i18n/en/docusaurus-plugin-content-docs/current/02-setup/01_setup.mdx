---
id: setup
sidebar_position: 2
title: Setup
sidebar_label: Setup
---

# Overview

Klleon Ondevice SDK is an Android SDK that provides on-device AI capabilities along with video processing, real-time messaging, and WebSocket communication. This documentation is based on the implementation of a sample Android application.


# Setup

## 1) Requirements
- **Minimum SDK**: 26 (Android 8.0)
- **Target SDK**: 36
- **NDK Version**: 28.2.13676358
---

### 1-1. Resources
The SDK requires the following asset files:
- Video file (`loop_sample.mp4`)
- Face processing file (`loop_sample.npz`)

These files must be placed in the `assets` (`src/main/assets`) folder and will be copied to the cache directory at runtime.

### 1-2. AAR File

- Copy the Kleon SDK AAR file to `app/libs`.


## 2) Android Configuration

```kotlin
android {
    compileSdk = 36
    ndkVersion = "27.0.12077973"
    
    defaultConfig {
        minSdk = 26
        targetSdk = 36
    }
    
    packaging {
        jniLibs {
            pickFirsts += "**/libc++_shared.so"
        }
    }
}
```

## 3) Gradle Configuration
- Declare the New Relic plugin in the top-level build.gradle(.kts) file
   ```
    plugins {
        // for binary Gradle plugins that need to be resolved
        id("com.newrelic.agent.android") version "7.6.1" apply false
    }
   ```
- Explicitly apply the plugin in the app-level build.gradle(.kts)
   ```
      plugins {
        id("com.newrelic.agent.android")
      }
   ```
- Add the newrelic.properties file to the app-level directory
    - [Download](https://drive.google.com/file/d/1w7efkin2__s76fI6a86gsEDbejsb-Ojy/view?usp=sharing)


- Add the following content to the app-level build.gradle(.kts)
    ```
      // Aar
      implementation(fileTree(mapOf("dir" to "libs", "include" to listOf("*.aar"))))

      // Coroutines
      implementation("org.jetbrains.kotlinx:kotlinx-coroutines-core:1.9.0")
      implementation("org.jetbrains.kotlinx:kotlinx-coroutines-android:1.9.0")

      // TensorFlow
      implementation("org.tensorflow:tensorflow-lite:2.15.0")
      implementation("org.tensorflow:tensorflow-lite-gpu:2.15.0")
      implementation("org.tensorflow:tensorflow-lite-gpu-delegate-plugin:0.4.4")
      implementation("org.tensorflow:tensorflow-lite-gpu-api:2.15.0")
      implementation("org.tensorflow:tensorflow-lite-select-tf-ops:2.15.0")
      implementation("org.tensorflow:tensorflow-lite-metadata:0.4.4")
      implementation("org.tensorflow:tensorflow-lite-support:0.4.4")

      // OpenCV
      implementation("org.opencv:opencv:4.11.0")

      // PyTorch
      implementation("com.facebook.soloader:nativeloader:0.12.1")
      implementation("org.pytorch:pytorch_android_lite:2.1.0")

      // WebSocket
      implementation("com.squareup.okhttp3:okhttp:4.12.0")

      // Jackson
      implementation("com.fasterxml.jackson.core:jackson-databind:2.15.0")
      implementation("com.fasterxml.jackson.core:jackson-annotations:2.15.0")
      implementation("com.fasterxml.jackson.module:jackson-module-kotlin:2.15.0")
  
      // Newrelic
      implementation("com.newrelic.agent.android:android-agent:7.6.1")
    ```

{/* ## 샘플 앱 다운로드
- [다운로드] */}
